<div ng-controller='cardsCtrl'>
  <md-card class="card-wrapper"
    md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}"
    md-theme-watch
    ng-repeat='resource in data | orderBy:sortType:sortReverse | filterByCat:search.category | filterByTag:search.tag'>
    <div class="card-image" ng-style="{'background-image': 'url({{resource.imgUrl}})'}"></div>
    <div class="card-content">
      <h2>{{resource.title}}</h2>
      <p>{{resource.summary}}</p>
    </div>
    <md-divider></md-divider>
    <md-card-footer
      layout="row"
      layout-xs="column"
      layout-align="space-between center">
      <div>
        <img class="card-avatar" ng-src={{resource.User.avatarUrl}} />
        <span class="card-post-data">@{{resource.User.username}} | {{resource.createdAt | date:'MMMM d, yyyy'}}</span>
      </div>
      <div layout-align="end center">
        <md-button
          ng-href="{{resource.url}}"
          title="{{resource.title}}"
          target="_blank"
          aria-label="{{resource.title}}"
          class="md-raised md-primary">
          View Resource
        </md-button>
        <my-vote></my-vote>
      </div>
    </md-card-footer>
  </md-card>
</div>
